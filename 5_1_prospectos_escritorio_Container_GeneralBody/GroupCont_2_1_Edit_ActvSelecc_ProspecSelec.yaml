- Button_edit_cancelUpd_ActSelec_verProspec:
    Control: Classic/Button@2.2.0
    Group: GroupCont_2_1_Edit_ActvSelecc_ProspecSelec
    Properties:
      BorderColor: =ColorFade(Self.Fill, -55%)
      BorderThickness: =0
      Color: =RGBA(255, 255, 255, 1)
      DisabledBorderColor: =RGBA(166, 166, 166, 1)
      Fill: =RGBA(_rBotonClaro,_gBotonClaro,_bBotonClaro,_aBotonClaro)
      Font: =Font.'Open Sans'
      Height: =55
      HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
      HoverColor: =RGBA(255, 255, 255, 1)
      HoverFill: =Self.Fill
      OnSelect: |-
        =Set(_crearAgenda, false);
        Set(_actividadSeleccionada, Blank());
        // Resetear los campos cuando se cancela
        Reset(TextInp_edit_ActReali_verProspec);
        Reset(Select_edit_fechaAct_verProspec);
        Reset(TextInp_editView_obsvAct_verProspec)
      PressedBorderColor: =Self.Fill
      PressedColor: =Self.Fill
      PressedFill: =Self.Color
      RadiusBottomLeft: =30
      RadiusBottomRight: =30
      RadiusTopLeft: =30
      RadiusTopRight: =30
      Size: =16
      Text: ="CANCELAR"
      Visible: =_crearAgenda
      Width: =150
      X: =591
      Y: =774
- Button_edit_guardarUpd_ActSelec_verProspec:
    Control: Classic/Button@2.2.0
    Group: GroupCont_2_1_Edit_ActvSelecc_ProspecSelec
    Properties:
      BorderColor: =ColorFade(Self.Fill, -55%)
      BorderThickness: =0
      Color: =RGBA(255, 255, 255, 1)
      DisabledBorderColor: =RGBA(166, 166, 166, 1)
      Fill: =RGBA(104, 110, 72, 1)
      Font: =Font.'Open Sans'
      Height: =55
      HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
      HoverColor: =RGBA(255, 255, 255, 1)
      HoverFill: =Self.Fill
      OnSelect: |-
        =// Validaciones de campos requeridos
        If(
            IsBlank(TextInp_edit_ActReali_verProspec.Text),
            Notify(
                "El campo de actividad a realizar debe estar diligenciado",
                NotificationType.Warning,
                6000
            ),
            IsBlank(Select_edit_fechaAct_verProspec.SelectedDate),
            Notify(
                "Debe seleccionar una fecha de seguimiento",
                NotificationType.Warning,
                6000
            ),
            // Si pasa las validaciones, ejecutar el Patch correspondiente
            If(
                _nuevaAgenda,
                // CREAR NUEVA ACTIVIDAD
                Patch(
                    tab_seguimiento,
                    Defaults(tab_seguimiento),
                    {
                        anotaciones: TextInp_edit_ActReali_verProspec.Text,
                        observaciones: TextInp_editView_obsvAct_verProspec.Text,
                        fk_id_lead: _itemSeleccionadoProspecto1.ID,
                        fecha_seguimiento: Select_edit_fechaAct_verProspec.SelectedDate,
                        nombre_comercial: _itemSeleccionadoProspecto1.razon_social_prospecto,
                        correo_responsable: _correoLoggeado,
                        estado_seguimiento: 1,
                        fk_tipo_cliente: 2
                    }
                );
                Notify(
                    "✓ Actividad creada exitosamente",
                    NotificationType.Success,
                    6000
                );
                Set(_crearAgenda, false);
                Reset(TextInp_edit_ActReali_verProspec);
                Reset(TextInp_editView_obsvAct_verProspec);
                Reset(Select_edit_fechaAct_verProspec),

                // ACTUALIZAR ACTIVIDAD EXISTENTE
                Patch(
                    tab_seguimiento,
                    LookUp(tab_seguimiento, ID = _actividadSeleccionada.ID),
                    {
                        anotaciones: TextInp_edit_ActReali_verProspec.Text,
                        observaciones: TextInp_editView_obsvAct_verProspec.Text,
                        fk_id_lead: _itemSeleccionadoProspecto1.ID,
                        fecha_seguimiento: Select_edit_fechaAct_verProspec.SelectedDate,
                        nombre_comercial: _itemSeleccionadoProspecto1.razon_social_prospecto,
                        correo_responsable: _correoLoggeado,
                        estado_seguimiento: 1,
                        fk_tipo_cliente: 2
                    }
                );
                Set(_actividadSeleccionada, Blank());
                Notify(
                    "✓ Actividad actualizada exitosamente",
                    NotificationType.Success,
                    6000
                );
                Set(_crearAgenda, false);
                Reset(TextInp_edit_ActReali_verProspec);
                Reset(TextInp_editView_obsvAct_verProspec);
                Reset(Select_edit_fechaAct_verProspec)
            )
        )
      PressedBorderColor: =Self.Fill
      PressedColor: =Self.Fill
      PressedFill: =Self.Color
      RadiusBottomLeft: =30
      RadiusBottomRight: =30
      RadiusTopLeft: =30
      RadiusTopRight: =30
      Size: =16
      Text: ="GUARDAR"
      Visible: |-
        =If(IsBlank(_actividadSeleccionada),_crearAgenda,

        _crearAgenda && _actividadSeleccionada.estado_seguimiento = 1)
      Width: =150
      X: =772
      Y: =774
- Label_ObsAct_verProspec:
    Control: Label@2.5.1
    Group: GroupCont_2_1_Edit_ActvSelecc_ProspecSelec
    Properties:
      BorderColor: =RGBA(0, 18, 107, 1)
      Color: =RGBA(85, 69, 49, 1)
      Font: =Font.'Open Sans'
      FontWeight: =FontWeight.Semibold
      Height: =40
      Size: =20
      Text: ="Observaciones"
      Visible: =_crearAgenda
      Width: =350
      X: =71
      Y: =499
- Button_edit_Finalizar_ActSelec_verProspec:
    Control: Classic/Button@2.2.0
    Group: GroupCont_2_1_Edit_ActvSelecc_ProspecSelec
    Properties:
      BorderColor: =ColorFade(Self.Fill, -55%)
      BorderThickness: =0
      Color: =RGBA(255, 255, 255, 1)
      DisabledBorderColor: =RGBA(166, 166, 166, 1)
      Fill: =RGBA(104, 110, 72, 1)
      Font: =Font.'Open Sans'
      Height: =50
      HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
      HoverColor: =RGBA(255, 255, 255, 1)
      HoverFill: =Self.Fill
      OnSelect: |-
        =// Validaciones de campos requeridos antes de finalizar
        If(
            IsBlank(TextInp_edit_ActReali_verProspec.Text),
            Notify(
                "El campo de actividad a realizar debe estar diligenciado",
                NotificationType.Warning,
                6000
            ),
            IsBlank(Select_edit_fechaAct_verProspec.SelectedDate),
            Notify(
                "Debe seleccionar una fecha de seguimiento",
                NotificationType.Warning,
                6000
            ),
            // Si pasa las validaciones, marcar como completada
            Patch(
                tab_seguimiento,
                LookUp(tab_seguimiento, ID = _actividadSeleccionada.ID),
                {
                    anotaciones: TextInp_edit_ActReali_verProspec.Text,
                    observaciones: TextInp_editView_obsvAct_verProspec.Text,
                    fk_id_lead: _itemSeleccionadoProspecto1.ID,
                    fecha_seguimiento: Select_edit_fechaAct_verProspec.SelectedDate,
                    nombre_comercial: _itemSeleccionadoProspecto1.razon_social_prospecto,
                    correo_responsable: _correoLoggeado,
                    estado_seguimiento: 2,
                    fk_tipo_cliente: 2
                }
            );
            Set(_crearAgenda, false);
            Reset(TextInp_edit_ActReali_verProspec);
            Reset(TextInp_editView_obsvAct_verProspec);
            Reset(Select_edit_fechaAct_verProspec);
            Set(_actividadSeleccionada, Blank());
            Notify(
                "✓ Actividad finalizada exitosamente",
                NotificationType.Success,
                6000
            )
        )

      PressedBorderColor: =Self.Fill
      PressedColor: =Self.Fill
      PressedFill: =Self.Color
      RadiusBottomLeft: =30
      RadiusBottomRight: =30
      RadiusTopLeft: =30
      RadiusTopRight: =30
      Size: =16
      Text: ="FINALIZAR TAREA"
      Visible: =_crearAgenda && !_nuevaAgenda && _actividadSeleccionada.estado_seguimiento = 1
      Width: =246
      X: =1209
      Y: =185
- Label_ActReali_verProspec:
    Control: Label@2.5.1
    Group: GroupCont_2_1_Edit_ActvSelecc_ProspecSelec
    Properties:
      BorderColor: =RGBA(0, 18, 107, 1)
      Color: =RGBA(85, 69, 49, 1)
      Font: =Font.'Open Sans'
      FontWeight: =FontWeight.Semibold
      Height: =30
      Size: =20
      Text: ="Actividad a realizar"
      Visible: =_crearAgenda
      Width: =350
      X: =69
      Y: =220
- TextInp_editView_obsvAct_verProspec:
    Control: Classic/TextInput@2.3.2
    Group: GroupCont_2_1_Edit_ActvSelecc_ProspecSelec
    Properties:
      BorderColor: =
      BorderStyle: =BorderStyle.None
      Default: =_actividadSeleccionada.observaciones
      DelayOutput: =true
      DisplayMode: =
      Font: =Font.'Open Sans'
      Height: =175
      HoverBorderColor: =RGBA(0, 18, 107, 1)
      HoverFill: =RGBA(214, 221, 224, 1)
      Mode: =TextMode.MultiLine
      PaddingLeft: =5
      RadiusBottomLeft: =15
      RadiusBottomRight: =15
      RadiusTopLeft: =15
      RadiusTopRight: =15
      Size: =16
      Tooltip: =
      Visible: =_crearAgenda
      Width: =1384
      X: =69
      Y: =568
- TextInp_edit_ActReali_verProspec:
    Control: Classic/TextInput@2.3.2
    Group: GroupCont_2_1_Edit_ActvSelecc_ProspecSelec
    Properties:
      BorderColor: =
      BorderStyle: =BorderStyle.None
      Color: =RGBA(85, 69, 49, 1)
      Default: =_actividadSeleccionada.anotaciones
      DelayOutput: =true
      DisplayMode: =
      Font: =Font.'Open Sans'
      Height: =85
      HoverBorderColor: =RGBA(0, 18, 107, 1)
      HoverFill: =RGBA(214, 221, 224, 1)
      Mode: =TextMode.MultiLine
      PaddingLeft: =5
      RadiusBottomLeft: =10
      RadiusBottomRight: =10
      RadiusTopLeft: =10
      RadiusTopRight: =10
      Size: =16
      Tooltip: =
      Visible: =_crearAgenda
      Width: =1384
      X: =69
      Y: =264
- Label_fechAct_verProspec:
    Control: Label@2.5.1
    Group: GroupCont_2_1_Edit_ActvSelecc_ProspecSelec
    Properties:
      BorderColor: =RGBA(0, 18, 107, 1)
      Color: =RGBA(85, 69, 49, 1)
      Font: =Font.'Open Sans'
      FontWeight: =FontWeight.Semibold
      Height: =30
      Size: =20
      Text: ="Fecha"
      Visible: =_crearAgenda
      Width: =350
      X: =69
      Y: =373
- TextInp_view_fechaAct_verProspec:
    Control: Classic/TextInput@2.3.2
    Group: GroupCont_2_1_Edit_ActvSelecc_ProspecSelec
    Properties:
      BorderColor: =
      BorderStyle: =BorderStyle.None
      Color: =RGBA(85, 69, 49, 1)
      Default: =
      DelayOutput: =true
      DisplayMode: =DisplayMode.View
      Font: =Font.'Open Sans'
      Height: =57
      HoverBorderColor: =RGBA(0, 18, 107, 1)
      HoverFill: =RGBA(214, 221, 224, 1)
      Mode: =TextMode.MultiLine
      PaddingLeft: =5
      RadiusBottomLeft: =10
      RadiusBottomRight: =10
      RadiusTopLeft: =10
      RadiusTopRight: =10
      Size: =16
      Tooltip: =
      Visible: =_crearAgenda
      Width: =1384
      X: =69
      Y: =424
- Select_edit_fechaAct_verProspec:
    Control: Classic/DatePicker@2.6.0
    Group: GroupCont_2_1_Edit_ActvSelecc_ProspecSelec
    Properties:
      BorderColor: =RGBA(0, 18, 107, 1)
      BorderStyle: =BorderStyle.None
      BorderThickness: =0
      Color: =RGBA(85, 69, 49, 1)
      DefaultDate: =_actividadSeleccionada.fecha_seguimiento
      Fill: =Color.Transparent
      Font: =Font.'Open Sans'
      Height: =44
      IconBackground: =Color.Transparent
      IconFill: =RGBA(85, 69, 49, 1)
      Size: =16
      Visible: =_crearAgenda
      Width: =1346
      X: =88
      Y: =430
